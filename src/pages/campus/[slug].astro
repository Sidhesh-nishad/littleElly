---
import Layout from "../../layouts/Layout.astro";

import TopNavigationBar from "../../components/TopNavigationBar.astro";

import Updates from "../../components/landingPage/Updates/index.astro";
import LFL from "../../components/landingPage/LFL.astro";
import WhyGlentree from "../../components/landingPage/whyEkam.astro";

import Testimonial from "../../components/landingPage/Testimonial.astro";
import BigAdmissionCTA from "../../components/BigAdmissionCTA.astro";
import Hero from "../LandingPageHero.astro";

import "../../global.css";

// import '@fontsource/nunito-sans';
import GlentreeFamily from "../../components/landingPage/GlentreeFamily.astro";
import Footer from "../../components/landingPage/Footer.astro";
import Text from "../../components/system/Text.astro";
import Section from "../../components/system/Section.astro";
import YoutubeEmbed from "../../components/YoutubeEmbed.astro";
import Showcase from "../Showcase.astro";
import GoToCta from "../../components/GoToCta.astro";
import Academics from "../../components/landingPage/Academics.astro";
import campus1 from "../images/campus/gas/gallery/1.jpeg";
import campus2 from "../images/campus/gas/gallery/2.jpeg";
import campus3 from "../images/campus/gas/gallery/3.jpeg";
import HeroTitle from "../../components/HeroTitle.astro";
import config from "../../../config";
import TopperCard from "../../components/TopperCard.astro";
import Heading from "../../components/system/Heading.astro";
const campusConfig = config.campus.find((c) => c.internalName === "kanakapura");
// import slide1 from "../images/slides/01.webp";
// import slide2 from "../images/slides/02.webp";
// import slide3 from "../images/slides/03.webp";
import slide4 from "../images/slides/04.webp";
import slide5 from "../images/slides/05.webp";
import transportBus from "../image/campus/transport.jpeg";
import DeckCard from "../../components/DeckCard.astro";
import Connect from "../../components/campus/Connect.astro";
import blobSmall from "../fillers/blobSmall.png";
import campusBG from "../../image/campusBG.jpg";

import campus1 from "../../image/campus/classroom.jpeg";
import campus2 from "../../image/campus/cs-2.jpeg";
import campus3 from "../../image/campus/library.jpeg";
import campus4 from "../../image/campus/wonderroom.jpeg";
import campus5 from "../../image/campus/science-chem.jpeg";
import campus6 from "../../image/campus/science-bio.jpeg";
import infirmary from "../../image/campus/infirmary.jpg";
import campus7 from "../../image/campus/science-phy.jpeg";
import campus8 from "../../image/campus/bbcourt.png";
import campus9 from "../../image/campus/football.jpeg";
import campus10 from "../../image/campus/pool.jpeg";
import campus11 from "../../image/campus/crick.jpeg";
import campus12 from "../../image/campus/skating.jpg";
import campus13 from "../../image/campus/throwball.jpg";
import campus14 from "../../image/campus/bb2.jpg";
import campus15 from "../../image/campus/football2.jpeg";
import campus16 from "../../image/campus/swim2.jpeg";
import principlePhoto from "../../images/campus/gas/principle.png"
import student1 from "../../images/campus/gas/student.png"

import aboutLittleEllyPlaceholder from "../../images/aboutLittleEllyPlaceholder.png";

import { Image } from "astro:assets";
import Button from "../../components/system/Button.astro";
import Why from "../../components/landingPage/why.astro";
import MultiStyleText from "../../components/system/MultiStyleText.astro";
import Marker from "../../components/system/Marker.astro";

const toppers = campusConfig?.toppers;

import slide1 from "../../images/slides/1.png";
import slide2 from "../../images/slides/2.png";
import slide3 from "../../images/slides/3.png";


const { slug = '' } = Astro.params

import { getCollection, getEntry, type CollectionEntry } from 'astro:content';

const { data } = await getEntry('centres', 'centres')

let { centers } = data


const states = centers.map(center => ({name: center?.state, page: center.page})).filter(state => state.name)

const districts = centers.map(center => center.districts)
    .flat()
    .filter(district => district?.district)
    .map(item => ({ name: item?.district, page: item?.page }))


const centres = centers.map(center => center.districts)
    .flat()
    .map(district => district?.centres)
    .flat()
    .filter(centre => centre?.centre)
    .map(item => ({ name: item?.centre, page: item?.page }))

const pages = [
  ...states,
  ...districts,
  ...centres
]

const page = pages.find(page => page.name === slug)?.page

---

<Layout
  title="Campus | Best International K12 Primary Schools South bengalore Electronic City"
>
  <div class="flex flex-col">
    <TopNavigationBar />
    <div
      class="h-[70svh] flex"
      style="background: linear-gradient(360deg, #1B2226 0%, #052B4C 52.08%, #1370A7 100%);"
    >
      <Hero
        config={{ title: "Welcome to EKAM", bgImage: campus1 }}
        showSlide={true}
        slideImages={[
          { slide: slide1.src, position: "center 64%", type: "image" },
          { slide: slide2.src, position: "center 64%", type: "image" },
          { slide: slide3.src, position: "center 64%", type: "image" },
        ]}
        contentDirection="items-end"
        className="overflow-hidden font-roundo"
      >
          <div slot="title">
            <!-- <div class="p-20"></div> -->
            <Text type="h2">
              Little Elly -  <span class="text-yellow">{slug}</span>
             </Text> 
             <Button buttonType="secondary" slot="ctaButton" buttonClass="border-[#F6BD60] mt-r">
              <Text type="h4" class="text-[#AF7F30] tracking-[2px] uppercase font-[700] font-sans text-[20px]">
                Apply Now
              </Text>
            </Button>
          </div>
      </Hero>
    </div>
  </div>
  <!-- <Events /> -->
  {page?.centreHead && page?.centreHead.description && (
    <Section class="flex items-center flex-col gap-l">
       <Text type="h2" class="text-[#253b70] text-center">About <span class="text-red-200">Centre</span></Text>
       <div class="text-[#FFF7F0] rounded-[30px] flex gap-l bg-[#FFF7F0] p-l justify-center items-center  max-sm:flex-col">
        <div class="max-sm:order-0 flex-shrink-0">
          <Image src={aboutLittleEllyPlaceholder} alt="principle" class="h-[400px] sm:h-[300px] object-cover object-center" width={400} height={300} />
        </div>
         <div class="max-sm:order-1">
           <Text type="base" class={`text-xl font-sans text-dark-gray font-[400] mt-r leading-8`}>{page?.aboutUs?.description}</Text>
         </div>
         <div></div>
   
       </div>
    </Section>
  )}
  {page?.centreHead && page?.centreHead.description && (
    <Section class="flex items-center flex-col gap-l">
       <Text type="h2" class="text-[#253b70] text-center">Centre <span class="text-red-200">Head</span></Text>
       <div class="text-[#FFF7F0] rounded-[30px] flex gap-l bg-[#FFF7F0] p-l justify-center items-center  max-sm:flex-col">
         <div class="max-sm:order-1">
           <Text type="h3" class="text-primary">{page?.centreHead.name}</Text>
           <Text type="base" class={`text-xl font-sans text-dark-gray font-[400] mt-r leading-8`}>{page?.centreHead.description}</Text>
         </div>
         <div class="max-sm:order-0 flex-shrink-0">
           <Image src={page.centreHead.img} alt="principle" class="h-[500px] sm:h-[300px] object-cover object-top" width={400} height={500} />
         </div>
         <div></div>
   
       </div>
    </Section>
  )}
 <Why />
 <Section class="gap-l flex flex-col items-center">
    <Text type="h2" class="text-center">
      <MultiStyleText text="HAPPY" classes={["text-purple", "text-blue", "text-green-200", "text-orange-200", "text-primary"]} />
      <br /><span class="text-primary">Curriculum</span>
    </Text>
    <div class="flex gap-l items-center max-sm:flex-col">
      <Text type="base" class="flex-basis-[40%] order-2" >
        We often say <span class="text-primary font-bold">A Happy Child means Happy Family</span> because a 
        joyful child brings happiness to everyone around them. 
        A child's happiness is like sunshine, spreading warmth and positivity. 
        Their joy can positively affect the well-being of every family, and our goal is to create
         a world filled with this kind of happiness.
         <br />
         <br />
          <div class="flex items-center gap-r">
            <Marker />
            Building an atmosphere of excitement, celebration, and joy within the learning process
          </div>
          <div class="flex items-center gap-r mt-[18px]">
            <Marker />
            Play-based activities designed to nurture holistic development of a child
          </div>
          <div class="flex items-center gap-r mt-[18px]">
            <Marker />
            Impart practical life skills to cultivate abilities that go beyond academics        </div>
          <div class="flex items-center gap-r mt-[18px]">
            <Marker />
            Promoting enquiry-based learning to develop curiosity in young learners
          </div>
        
      </Text>
      <Image src={student1} alt={"student"} class="object-contain max-h-[400px] flex-basis-[60%] max-sm:h-[300px]" />
    </div>
 </Section>
  <GoToCta />

  <div id="contact-us" style="scroll-margin: 60px;">
    <Connect
      details={{
        phoneNo: {
          label: "Call us On",
          value: page?.telephone,
          type: "contact",
        },
        workingHours: {
          label: "Mail us at",
          value: page?.email,
          type: "mail",
        },
        address: {
          label: "We are here",
          value:
            page?.address,
          type: "address",
        },
      }}
      mapEmbedLink={`https://www.google.com/maps/embed/v1/place?key=AIzaSyAW4mmhYRbPA2nPi-wzuJBPalXSuInbKks&q=${page?.addressTitle + ','+ page?.address}`}
    />
  </div>
  <!-- <Gallery
    id="classroom-facilities"
    gallery={[
      { src: campus1.src, caption: "Digitally Enabled Classrooms" },
      { src: campus4.src, caption: "Wonder Room" },
      { src: campus3.src, caption: "Well-stocked Library" },
    ]}
/> -->
  <GoToCta className="!bg-[white]" />
  <Footer />

 

  <!-- <Gallery
    id="science-labs"
    gallery={[
      { src: campus7.src, caption: "Physics Lab" },
      { src: campus6.src, caption: "Biology Lab" },
      { src: campus5.src, caption: "Chemistry Lab" },
      { src: campus2.src, caption: "Computer Science Lab" },
    ]}
  /> -->
 

  

  <!-- <Gallery
    id="extra-curricular-facilities"
    gallery={[{ src: slide1.src, caption: "Extra-curricular Facilities" }]}
  /> -->
</Layout>

<style>
  .float {
    position: fixed;
    /* background-color:#25d366; */
    color: #fff;
    border-radius: 50px;
    text-align: center;
    font-size: 30px;
    /* box-shadow: 2px 2px 3px #999; */
    z-index: 100;
  }

  .float > div {
    opacity: 0;
    transition: 0.6s all ease-in-out;
  }
  .float a:hover ~ div {
    opacity: 1;
  }

  .my-float {
    margin-top: 16px;
  }
</style>

<script define:vars={{ page }}>
  console.log('states -->', page)
</script>